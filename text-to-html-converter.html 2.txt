<p>&lt;!DOCTYPE html&gt;</p><p>&lt;html lang="ar" dir="rtl"&gt;</p><p>&lt;head&gt;</p><p>    &lt;meta charset="UTF-8"&gt;</p><p>    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;</p><p>    &lt;title&gt;النموذج المرئي للحاوية الذكية (وضوح وتباين عالي)&lt;/title&gt;</p><p>    </p><p>    &lt;!-- Tailwind CSS for general styling and responsiveness --&gt;</p><p>    &lt;script src="https://cdn.tailwindcss.com"&gt;&lt;/script&gt;</p><p>    </p><p>    &lt;!-- Three.js library for 3D graphics --&gt;</p><p>    &lt;script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"&gt;&lt;/script&gt;</p><p>    </p><p>    &lt;!-- OrbitControls for easy camera interaction --&gt;</p><p>    &lt;script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"&gt;&lt;/script&gt;</p><p>    &lt;style&gt;</p><p>        /* Define fonts and Arabic language support */</p><p>        @import url('https://fonts.googleapis.com/css2?family=Noto+Kufi+Arabic:wght@400;700&amp;display=swap');</p><p>        body {</p><p>            font-family: 'Noto Kufi Arabic', sans-serif;</p><p>            margin: 0;</p><p>            overflow: hidden; </p><p>            background: #0f172a;</p><p>        }</p><p>        </p><p>        #container {</p><p>            position: fixed;</p><p>            top: 0;</p><p>            left: 0;</p><p>            width: 100%;</p><p>            height: 100vh;</p><p>            z-index: 20; /* Higher than info panel */</p><p>        }</p><p>        </p><p>        canvas {</p><p>            display: block;</p><p>            width: 100%;</p><p>            height: 100%;</p><p>        }</p><p>        </p><p>        /* Responsive Info Panel Design */</p><p>        #info-panel {</p><p>            position: absolute;</p><p>            top: 1rem;</p><p>            left: 1rem;</p><p>            background: rgba(22, 28, 38, 0.85); /* More transparent */</p><p>            color: #e5e7eb;</p><p>            padding: 1.5rem;</p><p>            border-radius: 1rem;</p><p>            max-width: 380px;</p><p>            direction: rtl;</p><p>            text-align: right;</p><p>            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.8); </p><p>            border-right: 4px solid #34d399; </p><p>            max-height: 90vh; </p><p>            overflow-y: auto;</p><p>            z-index: 10;</p><p>        }</p><p><br></p><p>        /* Mobile specific styling */</p><p>        @media (max-width: 640px) {</p><p>            #info-panel {</p><p>                top: auto;</p><p>                bottom: 0;</p><p>                left: 0;</p><p>                right: 0;</p><p>                max-width: 100%;</p><p>                border-radius: 1rem 1rem 0 0;</p><p>                border-right: none;</p><p>                border-top: 4px solid #34d399; </p><p>                padding: 1rem;</p><p>                max-height: 50vh; </p><p>                font-size: 0.9rem;</p><p>            }</p><p>            .control-tip {</p><p>                display: none; </p><p>            }</p><p>        }</p><p><br></p><p>        .component-item {</p><p>            display: flex;</p><p>            justify-content: space-between;</p><p>            align-items: center;</p><p>            padding: 0.5rem 0;</p><p>            border-bottom: 1px dashed #374151;</p><p>        }</p><p>        .component-item:last-child {</p><p>            border-bottom: none;</p><p>        }</p><p>        .control-tip {</p><p>            font-size: 0.8rem;</p><p>            color: #9ca3af;</p><p>            text-align: center;</p><p>            padding-top: 1rem;</p><p>            margin-top: 1rem;</p><p>            border-top: 1px solid #4b5563;</p><p>        }</p><p>        </p><p>        /* Loading screen */</p><p>        #loading {</p><p>            position: fixed;</p><p>            top: 0;</p><p>            left: 0;</p><p>            width: 100%;</p><p>            height: 100%;</p><p>            background: #0f172a;</p><p>            display: flex;</p><p>            flex-direction: column;</p><p>            align-items: center;</p><p>            justify-content: center;</p><p>            z-index: 1000;</p><p>            color: white;</p><p>        }</p><p>        </p><p>        .spinner {</p><p>            width: 50px;</p><p>            height: 50px;</p><p>            border: 4px solid rgba(255, 255, 255, 0.1);</p><p>            border-left: 4px solid #34d399;</p><p>            border-radius: 50%;</p><p>            animation: spin 1s linear infinite;</p><p>            margin-bottom: 20px;</p><p>        }</p><p>        </p><p>        @keyframes spin {</p><p>            0% { transform: rotate(0deg); }</p><p>            100% { transform: rotate(360deg); }</p><p>        }</p><p>    &lt;/style&gt;</p><p>&lt;/head&gt;</p><p>&lt;body class="bg-gray-900 text-white"&gt;</p><p><br></p><p>    &lt;div id="container"&gt;&lt;/div&gt;</p><p><br></p><p>    &lt;div id="info-panel"&gt;</p><p>        &lt;h2 class="text-2xl font-extrabold mb-3 text-green-400"&gt;النموذج المرئي للحاوية الذكية&lt;/h2&gt;</p><p>        &lt;p class="mb-4 text-gray-300"&gt;عرض ثلاثي الأبعاد بتصميم عصري وألوان مريحة للعين.&lt;/p&gt;</p><p>        </p><p>        &lt;div id="components-list" class="space-y-1 mb-4"&gt;</p><p>            &lt;div class="component-item"&gt;</p><p>                &lt;span class="font-semibold text-blue-300"&gt;1. شاشة واجهة المستخدم (UI)&lt;/span&gt;</p><p>                &lt;span class="text-sm text-gray-400"&gt;$(20 \times 10 \text{ cm})$&lt;/span&gt;</p><p>            &lt;/div&gt;</p><p>            &lt;div class="component-item"&gt;</p><p>                &lt;span class="font-semibold text-gray-300"&gt;2. نظام الترشيح للتحكم بالرائحة&lt;/span&gt;</p><p>                &lt;span class="text-sm text-gray-400"&gt;صندوق قابل للفصل&lt;/span&gt;</p><p>            &lt;/div&gt;</p><p>            &lt;div class="component-item"&gt;</p><p>                &lt;span class="font-semibold text-yellow-400"&gt;3. مستشعر الموجات فوق الصوتية (IoT)&lt;/span&gt;</p><p>                &lt;span class="text-sm text-gray-400"&gt;رصد دقيق&lt;/span&gt;</p><p>            &lt;/div&gt;</p><p>            &lt;div class="component-item"&gt;</p><p>                &lt;span class="font-semibold text-gray-500"&gt;4. اللوحة الشمسية&lt;/span&gt;</p><p>                &lt;span class="text-sm text-gray-400"&gt;طاقة مستدامة&lt;/span&gt;</p><p>            &lt;/div&gt;</p><p>            &lt;div class="component-item"&gt;</p><p>                &lt;span class="font-semibold" id="led-label"&gt;5. مؤشرات LED&lt;/span&gt;</p><p>                &lt;span class="text-sm text-gray-400"&gt;حالة الملء&lt;/span&gt;</p><p>            &lt;/div&gt;</p><p>        &lt;/div&gt;</p><p><br></p><p>        &lt;div id="waste-status" class="mt-4 p-3 bg-gray-800 rounded-lg text-center border border-gray-700"&gt;</p><p>            &lt;p class="font-bold text-lg text-green-400 mb-1"&gt;حالة مستوى النفايات (محاكاة):&lt;/p&gt;</p><p>            &lt;p id="level-text" class="text-xl font-extrabold text-green-400"&gt;منخفض&lt;/p&gt;</p><p>        &lt;/div&gt;</p><p>        </p><p>        &lt;p class="control-tip"&gt;استخدم الماوس أو اللمس للتدوير والتكبير/التصغير.&lt;/p&gt;</p><p>    &lt;/div&gt;</p><p><br></p><p>    &lt;div id="loading"&gt;</p><p>        &lt;div class="spinner"&gt;&lt;/div&gt;</p><p>        &lt;p&gt;جاري تحميل النموذج ثلاثي الأبعاد...&lt;/p&gt;</p><p>    &lt;/div&gt;</p><p><br></p><p>    &lt;script&gt;</p><p>        // Global variables</p><p>        let scene, camera, renderer, controls, bin;</p><p>        let currentFillLevel = 0.2;</p><p>        let ledIndicators = [];</p><p>        let uiScreenMesh;</p><p>        </p><p>        // Dimensions from your image - Square bin 60x60x105 cm</p><p>        const BIN_HEIGHT = 105 / 20;</p><p>        const BIN_WIDTH = 60 / 20;</p><p>        const BIN_DEPTH = 60 / 20;</p><p>        </p><p>        // Component dimensions</p><p>        const UI_WIDTH = 20 / 20;</p><p>        const UI_HEIGHT = 10 / 20;</p><p><br></p><p>        // Initialize the application</p><p>        function init() {</p><p>            createScene();</p><p>            createCamera();</p><p>            createRenderer();</p><p>            createControls();</p><p>            createLighting();</p><p>            createGround();</p><p>            createBinModel();</p><p>            </p><p>            // Start animation loop</p><p>            animate();</p><p>            </p><p>            // Hide loading screen</p><p>            setTimeout(() =&gt; {</p><p>                document.getElementById('loading').style.display = 'none';</p><p>            }, 1500);</p><p>            </p><p>            // Initial status update</p><p>            updateBinStatus();</p><p>            </p><p>            // Start simulation</p><p>            setInterval(simulateFillLevel, 5000);</p><p>            </p><p>            // Handle window resize</p><p>            window.addEventListener('resize', onWindowResize);</p><p>        }</p><p><br></p><p>        function createScene() {</p><p>            scene = new THREE.Scene();</p><p>            scene.background = new THREE.Color(0x0f172a);</p><p>        }</p><p><br></p><p>        function createCamera() {</p><p>            const aspect = window.innerWidth / window.innerHeight;</p><p>            camera = new THREE.PerspectiveCamera(60, aspect, 0.1, 1000);</p><p>            camera.position.set(3, 2.5, 4);</p><p>        }</p><p><br></p><p>        function createRenderer() {</p><p>            renderer = new THREE.WebGLRenderer({ </p><p>                antialias: true,</p><p>                powerPreference: "high-performance",</p><p>                alpha: true</p><p>            });</p><p>            renderer.setSize(window.innerWidth, window.innerHeight);</p><p>            renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));</p><p>            renderer.shadowMap.enabled = true;</p><p>            renderer.shadowMap.type = THREE.PCFSoftShadowMap;</p><p>            document.getElementById('container').appendChild(renderer.domElement);</p><p>        }</p><p><br></p><p>        function createControls() {</p><p>            controls = new THREE.OrbitControls(camera, renderer.domElement);</p><p>            controls.enableDamping = true;</p><p>            controls.dampingFactor = 0.05;</p><p>            controls.screenSpacePanning = false;</p><p>            controls.minDistance = 2;</p><p>            controls.maxDistance = 8;</p><p>            controls.target.set(0, BIN_HEIGHT / 3, 0);</p><p>        }</p><p><br></p><p>        function createLighting() {</p><p>            // Ambient light</p><p>            const ambientLight = new THREE.AmbientLight(0xffffff, 0.8);</p><p>            scene.add(ambientLight);</p><p><br></p><p>            // Main directional light</p><p>            const mainLight = new THREE.DirectionalLight(0xffffff, 1);</p><p>            mainLight.position.set(5, 10, 7);</p><p>            mainLight.castShadow = true;</p><p>            scene.add(mainLight);</p><p><br></p><p>            // Fill light</p><p>            const fillLight = new THREE.DirectionalLight(0xffffff, 0.4);</p><p>            fillLight.position.set(-5, 5, -5);</p><p>            scene.add(fillLight);</p><p>        }</p><p><br></p><p>        function createGround() {</p><p>            const groundGeometry = new THREE.PlaneGeometry(15, 15);</p><p>            const groundMaterial = new THREE.MeshStandardMaterial({ </p><p>                color: 0x1e293b,</p><p>                roughness: 0.8,</p><p>                metalness: 0.1</p><p>            });</p><p>            const ground = new THREE.Mesh(groundGeometry, groundMaterial);</p><p>            ground.rotation.x = -Math.PI / 2;</p><p>            ground.receiveShadow = true;</p><p>            ground.position.y = -BIN_HEIGHT / 2;</p><p>            scene.add(ground);</p><p>        }</p><p><br></p><p>        function createBinModel() {</p><p>            bin = new THREE.Group();</p><p>            </p><p>            // Main bin body - Square as shown in image</p><p>            const bodyGeometry = new THREE.BoxGeometry(BIN_WIDTH, BIN_HEIGHT, BIN_DEPTH);</p><p>            const bodyMaterial = new THREE.MeshStandardMaterial({ </p><p>                color: 0x4a5568,</p><p>                roughness: 0.7,</p><p>                metalness: 0.2</p><p>            });</p><p>            const body = new THREE.Mesh(bodyGeometry, bodyMaterial);</p><p>            body.castShadow = true;</p><p>            body.receiveShadow = true;</p><p>            bin.add(body);</p><p><br></p><p>            // Lid - Square lid</p><p>            const lidGeometry = new THREE.BoxGeometry(BIN_WIDTH + 0.02, 0.1, BIN_DEPTH + 0.02);</p><p>            const lidMaterial = new THREE.MeshStandardMaterial({ </p><p>                color: 0x374151</p><p>            });</p><p>            const lid = new THREE.Mesh(lidGeometry, lidMaterial);</p><p>            lid.position.y = BIN_HEIGHT / 2 + 0.05;</p><p>            lid.castShadow = true;</p><p>            bin.add(lid);</p><p><br></p><p>            // UI Screen (1) - Dark blue screen that imitates light</p><p>            const uiGeometry = new THREE.PlaneGeometry(UI_WIDTH, UI_HEIGHT);</p><p>            const uiMaterial = new THREE.MeshBasicMaterial({ </p><p>                color: 0x0a1a2f,</p><p>                emissive: 0x0a1a2f,</p><p>                emissiveIntensity: 0.7</p><p>            });</p><p>            uiScreenMesh = new THREE.Mesh(uiGeometry, uiMaterial);</p><p>            uiScreenMesh.position.set(0.15, BIN_HEIGHT * 0.3, BIN_DEPTH / 2 + 0.01);</p><p>            bin.add(uiScreenMesh);</p><p><br></p><p>            // LED Indicators - Three LARGER dots (Red, Yellow, Green) - placed on left side</p><p>            const ledGeometry = new THREE.SphereGeometry(0.06, 16, 16); // MUCH larger dots</p><p>            const ledPositions = [</p><p>                { position: [-BIN_WIDTH * 0.35, BIN_HEIGHT * 0.1, BIN_DEPTH / 2 + 0.02], color: 0xef4444 }, // Red</p><p>                { position: [-BIN_WIDTH * 0.35, 0, BIN_DEPTH / 2 + 0.02], color: 0xf59e0b }, // Yellow</p><p>                { position: [-BIN_WIDTH * 0.35, -BIN_HEIGHT * 0.1, BIN_DEPTH / 2 + 0.02], color: 0x10b981 }, // Green</p><p>            ];</p><p>            </p><p>            ledIndicators = [];</p><p>            ledPositions.forEach((led, index) =&gt; {</p><p>                const material = new THREE.MeshBasicMaterial({ </p><p>                    color: led.color,</p><p>                    emissive: led.color,</p><p>                    emissiveIntensity: 0.1</p><p>                });</p><p>                const mesh = new THREE.Mesh(ledGeometry, material);</p><p>                mesh.position.set(...led.position);</p><p>                bin.add(mesh);</p><p>                ledIndicators.push(mesh);</p><p>            });</p><p><br></p><p>            // Logo - Positioned on the RIGHT side with color #2e415e</p><p>            const logoGeometry = new THREE.CircleGeometry(0.4, 32);</p><p>            const logoMaterial = new THREE.MeshBasicMaterial({ </p><p>                color: 0x2e415e,</p><p>                side: THREE.DoubleSide</p><p>            });</p><p>            const logo = new THREE.Mesh(logoGeometry, logoMaterial);</p><p>            logo.position.set(BIN_WIDTH * 0.35, BIN_HEIGHT * 0.15, BIN_DEPTH / 2 + 0.01);</p><p>            bin.add(logo);</p><p><br></p><p>            // Solar Panel (4) - SQUARE and BLUE</p><p>            const solarGeometry = new THREE.BoxGeometry(BIN_WIDTH * 0.6, 0.02, BIN_DEPTH * 0.6); // Square</p><p>            const solarMaterial = new THREE.MeshStandardMaterial({ </p><p>                color: 0x2563eb, // Blue color</p><p>                metalness: 0.8,</p><p>                roughness: 0.2</p><p>            });</p><p>            const solarPanel = new THREE.Mesh(solarGeometry, solarMaterial);</p><p>            solarPanel.position.y = BIN_HEIGHT / 2 + 0.1;</p><p>            solarPanel.castShadow = true;</p><p>            bin.add(solarPanel);</p><p><br></p><p>            // Ultrasonic Sensor (IoT) - On solar panel</p><p>            const sensorGeometry = new THREE.CylinderGeometry(0.05, 0.05, 0.05, 12);</p><p>            const sensorMaterial = new THREE.MeshStandardMaterial({ </p><p>                color: 0xf59e0b,</p><p>                metalness: 0.8,</p><p>                roughness: 0.2</p><p>            });</p><p>            const sensor = new THREE.Mesh(sensorGeometry, sensorMaterial);</p><p>            sensor.position.set(BIN_WIDTH * 0.2, BIN_HEIGHT / 2 + 0.12, 0);</p><p>            sensor.castShadow = true;</p><p>            bin.add(sensor);</p><p><br></p><p>            scene.add(bin);</p><p>        }</p><p><br></p><p>        function updateBinStatus() {</p><p>            // Reset all LEDs</p><p>            ledIndicators.forEach(led =&gt; {</p><p>                led.material.emissiveIntensity = 0.1;</p><p>            });</p><p><br></p><p>            let status, color, activeLed;</p><p>            </p><p>            if (currentFillLevel &lt; 0.5) {</p><p>                status = "منخفض";</p><p>                color = "text-green-400";</p><p>                activeLed = 2; // Green LED</p><p>            } else if (currentFillLevel &lt; 0.85) {</p><p>                status = "متوسط";</p><p>                color = "text-yellow-400";</p><p>                activeLed = 1; // Yellow LED</p><p>            } else {</p><p>                status = "مرتفع";</p><p>                color = "text-red-400";</p><p>                activeLed = 0; // Red LED</p><p>            }</p><p><br></p><p>            // Activate the appropriate LED</p><p>            if (ledIndicators[activeLed]) {</p><p>                ledIndicators[activeLed].material.emissiveIntensity = 0.8;</p><p>            }</p><p><br></p><p>            // Update UI</p><p>            document.getElementById('level-text').textContent = status;</p><p>            document.getElementById('level-text').className = `text-xl font-extrabold ${color}`;</p><p>            document.getElementById('led-label').className = `font-semibold ${color}`;</p><p>            </p><p>            // Update screen color</p><p>            if (uiScreenMesh) {</p><p>                const colors = [0xef4444, 0xf59e0b, 0x10b981];</p><p>                uiScreenMesh.material.color.setHex(colors[activeLed]);</p><p>                uiScreenMesh.material.emissive.setHex(colors[activeLed]);</p><p>            }</p><p>        }</p><p><br></p><p>        function simulateFillLevel() {</p><p>            if (currentFillLevel &lt; 0.5) {</p><p>                currentFillLevel = 0.7;</p><p>            } else if (currentFillLevel &lt; 0.85) {</p><p>                currentFillLevel = 0.95;</p><p>            } else {</p><p>                currentFillLevel = 0.2;</p><p>            }</p><p>            updateBinStatus();</p><p>        }</p><p><br></p><p>        function animate() {</p><p>            requestAnimationFrame(animate);</p><p>            controls.update();</p><p>            renderer.render(scene, camera);</p><p>        }</p><p><br></p><p>        // Handle window resize</p><p>        function onWindowResize() {</p><p>            camera.aspect = window.innerWidth / window.innerHeight;</p><p>            camera.updateProjectionMatrix();</p><p>            renderer.setSize(window.innerWidth, window.innerHeight);</p><p>        }</p><p><br></p><p>        // Start the application</p><p>        window.addEventListener('load', init);</p><p>    &lt;/script&gt;</p><p>&lt;/body&gt;</p><p>&lt;/html&gt;</p>